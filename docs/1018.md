故障追踪
1、account monitor检测到了挂单数据，但是pre-trade没有正确处理，是否是时间gap的问题
[2025-10-17T12:02:25Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=28426137 margin 撤单成功 client_order_id=122089328766615552 status=200
[2025-10-17T12:02:25Z DEBUG mkt_signal::pre_trade::order_manager] OrderManager: symbol=KDAUSDT pending_limit_count 2 -> 1 (dec)
[2025-10-17T12:02:25Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=28426137 开仓提前结束 订单生命周期汇总
    +--------------------+------------+------------+------+-----+--------+---------+---------------+-----------------+
    | OrderId            | ExchangeId | Kind       | Side | Qty | Price  | Status  | CreateTs      | UpdateTs        |
    +====================+============+============+======+=====+========+=========+===============+=================+
    | 122089328766615552 | -          | MarginOpen | -    | -   | -      | Removed | -             | -               |
    | 122089328766615553 | 1005461921 | UMHedge    | SELL | 43  | 0.2223 | FILLED  | 1760702544282 | [1760702544282] |
    +--------------------+------------+------------+------+-----+--------+---------+---------------+-----------------+
相当于，订单直接收到了撤单消息，开仓单提前结束？
看起来应该是部分成交，然后部分对冲，然后挂单结束了，看起来合理，那这个单子具体成交了多少？是否正确

[2025-10-17T12:02:24Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=28426137 margin execution report status=PARTIALLY_FILLED execution_type=TRADE
[2025-10-17T12:02:24Z DEBUG mkt_signal::pre_trade::runner] trade signal received: type=BinSingleForwardArbHedge generation_time=1760702544269523 ctx_len=20
看起来是部分成交

[2025-10-17T12:02:24Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=28426137 UM 对冲下单参数 symbol=KDAUSDT side=SELL pos_side=SHORT qty=43 clientOrderId=122089328766615553 payload_len=127
所以部分成交，部分对冲，部分撤单，是合理的。

2、延迟撤单的问题，是否有延迟撤单
截图上的订单位置，为什么没有成功撤单


strategy_id=12730255
dispatcher显示，单子已经成功挂出，更新状态为new, 正常来说，1s后应该被撤单
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::dispatcher] dispatch response body (raw): {"clientOrderId":"127302551480565760","cummulativeQuoteQty":"0.00000000","executedQty":"0.00000000","fills":[],"orderId":1018886908,"origQty":"335.60000000","price":"0.29800000","selfTradePreventionMode":"EXPIRE_MAKER","side":"BUY","status":"NEW","symbol":"HIGHUSDT","timeInForce":"GTC","transactTime":1760698888039,"type":"LIMIT"}


[2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 数量/名义金额对齐 raw_qty=335.60000610 step=0.10000000 min_qty=0.10000000 min_notional=5.00000000 price=0.29800000 aligned_qty=335.60000000
[2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: symbol=HIGHUSDT 现货持仓限制通过 current=1201.2548USDT add=100.3604USDT projected=1301.6152USDT limit=50000.0000USDT
[2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 margin 开仓价格对齐 raw=0.29800000 tick=0.00100000 aligned=0.29800000[2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 构造 margin 开仓参数 ["symbol=HIGHUSDT", "side=BUY", "type=LIMIT", "quantity=335.6", "newClientOrderId=127302551480565760", "timeInForce=GTC", "price=0.298"][2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 margin 开仓请求已推送 order_id=127302551480565760 payload_len=138[2025-10-17T11:01:27Z DEBUG mkt_signal::pre_trade::order_manager] OrderManager: symbol=HIGHUSDT pending_limit_count 1 -> 2 (inc)[2025-10-17T11:01:27Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 提交 margin 开仓请求 symbol=HIGHUSDT qty=335.600006 type=LIMIT price=0.29800000 order_id=127302551480565760[2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 成功创建开仓订单 [2025-10-17T11:01:27Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 margin 开仓单状态=COMMIT，等待成交

[2025-10-17T11:01:28Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 margin execution report status=NEW execution_type=NEW

3、撤单不可靠，撤单时间太久了，应该让交易所自动撤单
[2025-10-17T11:01:28Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29584914 margin 开仓单超时，尝试撤单 order_id=127066238084972544
[2025-10-17T11:01:28Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29584914 margin 开仓单状态=COMMIT，等待成交
[2025-10-17T11:01:28Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29577463 margin 开仓单超时，尝试撤单 order_id=127034236283650048
[2025-10-17T11:01:28Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29577463 margin 开仓单状态=COMMIT，等待成交
[2025-10-17T11:01:28Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 margin 开仓单超时，尝试撤单 order_id=127302551480565760
[2025-10-17T11:01:28Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29639935 margin 开仓单状态=COMMIT，等待成交
[2025-10-17T11:01:28Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29622360 margin 开仓单超时，尝试撤单 order_id=127227067430338560
[2025-10-17T11:01:28Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29622360 margin 开仓单状态=COMMIT，等待成交
[2025-10-17T11:01:28Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29574455 margin 开仓单超时，尝试撤单 order_id=127021317022023680
[2025-10-17T11:01:28Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=29574455 margin 开仓单状态=COMMIT，等待成交
反馈丢失

[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::engine] received payload bytes: 75
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::trade_request] TradeRequest parsed: type=4008, params_len=51, client_order_id=127066238084972544
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::engine] enqueue request: type=BinanceCancelMarginOrder, client_order_id=127066238084972544, params_len=51
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::engine] received payload bytes: 75 
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::trade_request] TradeRequest parsed: type=4008, params_len=51, client_order_id=127227067430338560
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::engine] enqueue request: type=BinanceCancelMarginOrder, client_order_id=127227067430338560, params_len=51
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::engine] received payload bytes: 76
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::trade_request] TradeRequest parsed: type=4008, params_len=52, client_order_id=127021317022023680
[2025-10-17T11:01:28Z DEBUG mkt_signal::trade_engine::engine] enqueue request: type=BinanceCancelMarginOrder, client_order_id=127021317022023680, params_len=52

一种原因是icexy2丢失了数据，这种可能性不大，另外一种可能是，开仓单超时，尝试撤单构造撤单消息的时候出现了错误，导致消息没有正确推送。
几个问题
1、是否是因为下单延迟太大，导致没有确认成功，无法产生撤单？

trade-engine没有收到撤单消息，可能是推送失败了
结论，使用gtx可以只做marker，但是gtd可以稳定撤单，看哪个更重要

正常撤单应该是这样，立刻收到撤单成功的回报
[2025-10-17T11:01:29Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=30364253 margin 开仓单超时，尝试撤单 order_id=130413473602469888
[2025-10-17T11:01:29Z DEBUG mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=30364253 margin 开仓单状态=COMMIT，等待成交
[2025-10-17T11:01:29Z INFO  mkt_signal::signal::binance_forward_arb] BinSingleForwardArbStrategy: strategy_id=30364253 margin 撤单成功 client_order_id=130413473602469888 status=200















