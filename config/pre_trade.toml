# Default configuration for the pre_trade binary.
# Update service names to match your deployment topology.

[account_stream]
service = "account_pubs/binance/pm"
max_payload_bytes = 16384
label = "account_binance"

[trade_engine]
service = "order_resps/binance"
req_service = "order_reqs/binance"
max_payload_bytes = 16384
label = "trade_resp_binance"

[signals]
channels = ["mt_arbitrage"]
max_payload_bytes = 1024

[params]
max_pos_u = 2500.0     # 最大持仓(U)
max_symbol_exposure_ratio = 0.25   # 单一资产最大敞口比例 (25%)
max_total_exposure_ratio = 0.25    # 总敞口占权益比例 (25%)

[store]
# 仅在 Ctrl+C 时落盘，启动时恢复
enable = true
redis_url = "redis://127.0.0.1/0"
prefix = "pre_trade"

[risk_checks.binance_pm_um]
# REST 接口基地址，可使用默认生产环境
rest_base = "https://papi.binance.com"
# 读取 API Key/Secret 的环境变量名，如不覆盖则按默认 BINANCE_API_KEY/SECRET
api_key_env = "BINANCE_API_KEY"
api_secret_env = "BINANCE_API_SECRET"
recv_window_ms = 5000

[risk_checks.binance_spot]
rest_base = "https://papi.binance.com"
api_key_env = "BINANCE_API_KEY"
api_secret_env = "BINANCE_API_SECRET"
recv_window_ms = 5000
# 留空则检查全部现货资产；如仅需部分资产，可设置 asset 字段
