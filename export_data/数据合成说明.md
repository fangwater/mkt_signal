# 数据合成说明

## 目标输出表 (export df)

| 列名 | 类型 | 说明 |
|------|------|------|
| symbol | object | 交易对 |
| trading_venue | object | 交易所 |
| ts_us | int64 | 时间戳(微秒) |
| event_time | int64 | 事件时间 |
| update_ts | int64 | 更新时间戳 |
| order_id | int64 | 订单ID |
| strategy_id | int32 | 策略ID |
| client_order_id | int64 | 客户端订单ID |
| price | float64 | 价格 |
| quantity | float64 | 数量 |
| side | object | 方向 |
| type | object | 类型 |
| order_type | object | 订单类型 |
| range | object | 范围 |
| status | object | 状态 |
| filled_quantity | float64 | 已成交数量 |
| open_ask0 | float64 | 开仓卖一价 |
| open_bid0 | float64 | 开仓买一价 |
| hedge_ask0 | float64 | 对冲卖一价 |
| hedge_bid0 | float64 | 对冲买一价 |

---

## 源数据表字段说明

### df_trade (成交更新)

| 列名 | 类型 | 说明 |
|------|------|------|
| key | object | |
| ts_us | int64 | |
| event_time | int64 | |
| trade_time | int64 | |
| symbol | object | |
| trade_id | int64 | |
| order_id | int64 | |
| client_order_id | int64 | |
| side | object | |
| price | float64 | |
| quantity | float64 | |
| commission | float64 | |
| commission_asset | object | |
| is_maker | bool | |
| realized_pnl | float64 | |
| trading_venue | object | |
| cumulative_filled_quantity | float64 | |
| order_status | object | |

### df_order (订单更新)

| 列名 | 类型 | 说明 |
|------|------|------|
| key | object | |
| ts_us | int64 | |
| event_time | int64 | |
| symbol | object | |
| order_id | int64 | |
| client_order_id | int64 | |
| client_order_id_str | object | |
| side | object | |
| order_type | object | |
| time_in_force | object | |
| price | float64 | |
| quantity | float64 | |
| last_executed_qty | float64 | |
| cumulative_filled_quantity | float64 | |
| status | object | |
| raw_status | object | |
| execution_type | object | |
| raw_execution_type | object | |
| trading_venue | object | |
| average_price | float64 | |
| last_executed_price | float64 | |
| business_unit | object | |

### df_open_sig (开仓信号)

| 列名 | 类型 | 说明 |
|------|------|------|
| key | object | |
| ts_us | int64 | |
| strategy_id | int32 | |
| create_ts | int64 | |
| opening_venue | object | |
| opening_symbol | object | |
| opening_bid0 | float64 | |
| opening_ask0 | float64 | |
| hedging_venue | object | |
| hedging_symbol | object | |
| hedging_bid0 | float64 | |
| hedging_ask0 | float64 | |
| amount | float32 | |
| side | object | |
| order_type | object | |
| price | float64 | |
| price_tick | float64 | |
| exp_time | int64 | |
| price_offset | float64 | |
| hedge_timeout_us | int64 | |
| funding_ma | float64 | |
| predicted_funding_rate | float64 | |
| loan_rate | float64 | |

### df_hedge_sig (对冲信号)

| 列名 | 类型 | 说明 |
|------|------|------|
| key | object | |
| ts_us | int64 | |
| strategy_id | int32 | |
| record_ts_us | int64 | |
| ctx_strategy_id | int32 | |
| client_order_id | int64 | |
| hedge_qty | float64 | |
| hedge_side | object | |
| limit_price | float64 | |
| price_tick | float64 | |
| maker_only | bool | |
| exp_time | int64 | |
| hedging_venue | object | |
| hedging_symbol | object | |
| hedging_bid0 | float64 | |
| hedging_ask0 | float64 | |
| market_ts | int64 | |
| price_offset | float64 | |

### df_cancel_sig (取消信号)

| 列名 | 类型 | 说明 |
|------|------|------|
| key | object | |
| ts_us | int64 | |
| strategy_id | int32 | |
| opening_venue | object | |
| opening_symbol | object | |
| opening_bid0 | float64 | |
| opening_ask0 | float64 | |
| hedging_venue | object | |
| hedging_symbol | object | |
| hedging_bid0 | float64 | |
| hedging_ask0 | float64 | |
| trigger_ts | int64 | |

### df_close_sig (平仓信号)

| 列名 | 类型 | 说明 |
|------|------|------|
| key | object | |
| ts_us | int64 | |
| strategy_id | int32 | |
| create_ts | int64 | |
| opening_venue | object | |
| opening_symbol | object | |
| opening_bid0 | float64 | |
| opening_ask0 | float64 | |
| hedging_venue | object | |
| hedging_symbol | object | |
| hedging_bid0 | float64 | |
| hedging_ask0 | float64 | |
| amount | float32 | |
| side | object | |
| order_type | object | |
| price | float64 | |
| price_tick | float64 | |
| exp_time | int64 | |
| price_offset | float64 | |
| hedge_timeout_us | int64 | |
| funding_ma | float64 | |
| predicted_funding_rate | float64 | |
| loan_rate | float64 | |

---

## 数据合成逻辑

(待补充)
