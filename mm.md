1、现在，我要给MM模式，增加一个对冲单的撤单机制。
现在对冲单也有一个exp-time，确认可以存在多久。
当定时器轮询，发现超时，则进行撤单，这和出去的订单是一个处理方式。
然后等待account monitor确定撤单成功消息。然后重新设置订单状态。并发送req消息，重新请求开单，

现在对冲单在MM模式是limit的单子，因此存在部分成交的情况。当收到account monitor推送的成交消息。
分为完全成交Filled，和部分成交Partilay Filled。

(1)如果是filled完全成交，则代表策略可以关闭，对冲完成。
(2)如果是部分成交，，都查询当前strategy开仓单的待成交量。
如果待对冲量小于 对冲单（目前是UM），那么就对比UM的最小成交量。如果小于这个成交量，就是无法处理的tail，打印出来，报告结束。

一直循环往复，直到完全对冲为止。
因此一个开仓可能会对用多个部分成交的对冲单，不是一一对应的。


3、现在移除了close信号。因为平仓的逻辑是这样的：

目前的信号有
BinSingleForwardArbOpenMT
BinSingleForwardArbOpenMM

对应close的平仓，本质上就是卖出现货+买入合约，即方向相反的建仓。

即
BinSingleForwardArbCloseMT
BinSingleForwardArbCloseMM
新增这两个信号。

最大的区别是，这两个信号会携带最小下单量。但目的是关闭仓位，即把仓位降低为0.
因此，目标同样是构造一个strategy。但是区别是：
1、检测当前的持仓剩余量。取合约和现货的持仓量的剩余量，如果不足信号的下单量，且剩余量大于合约最小下单量，就调整为剩余量进行平仓。
2、如果检测成功，则开一个反向的MT，其余完全一致性。


1、TODO
  - 发送对冲请求时会记录时间戳并设置 hedge_request_pending 标志
  - 如果在 hedge_wait_timeout_us 时间内没有收到响应，会重新允许发送对冲请求
  - 现在移除这个机制后，对冲请求的发送不再有超时重试的逻辑
  之后需要补充，因为不会有持续的信号，这个逻辑移动到定时器处理。

2


1、现在开单逻辑:
需要区分平仓的强平信号和开仓信号，强平需要额外看当前资产的方向资产是否大于最小下单金额



对冲流程:
